# åœ¨çº¿è‡ªä¹ å®¤éƒ¨ç½²åˆé›†

æœ¬ä»“åº“æ”¶å½•äº†ã€Œåœ¨çº¿è‡ªä¹ å®¤ã€åº”ç”¨çš„ä¸¤å¥—å¯è¿è¡Œæ–¹æ¡ˆï¼Œæ–¹ä¾¿åœ¨ä¸åŒç½‘ç»œç¯å¢ƒä¸‹éƒ¨ç½²ã€‚é¡¹ç›®æ”¯æŒå®æ—¶éŸ³è§†é¢‘ï¼ˆLiveKitï¼‰ã€ç•ªèŒ„é’Ÿè®¡æ—¶ã€èŠå¤©å®¤ã€ç›®æ ‡è¿½è¸ªä»¥åŠæš—è‰²ä¸»é¢˜ç­‰åŠŸèƒ½ï¼Œå¯åŒæ—¶æ»¡è¶³ä¸ªäººç»ƒä¹ ã€è¯¾å ‚å…±å­¦æˆ–è¿œç¨‹è‡ªä¹ å°ç»„çš„éœ€æ±‚ã€‚

## ä»“åº“ç»“æ„

```
study/
â”œâ”€â”€ æ— åŸŸåç‰ˆ/     # çº¯æœ¬åœ°åŸŸåï¼ˆHTTP/WSï¼‰ç¯å¢ƒï¼Œä¸€å°æœºå™¨å³å¯è¿è¡Œ
â””â”€â”€ æœ‰åŸŸåç‰ˆ/     # é¢å‘ç”Ÿäº§åŸŸåï¼Œè‡ªåŠ¨æ¨æ–­ HTTPS/WSS ä¸å…¬ç½‘åå‘ä»£ç†
```

ä¸¤å¥—æ–¹æ¡ˆéƒ½åŒ…å« `backend`ï¼ˆFastAPI + WebSocketï¼‰ã€`frontend`ï¼ˆVite + åŸç”Ÿ JSï¼‰ã€`docs` æ–‡æ¡£ä»¥åŠ `docker-compose.yml`ã€‚

## ç‰ˆæœ¬è¯´æ˜

| ç‰ˆæœ¬ | é€‚ç”¨åœºæ™¯ | é»˜è®¤åè®® | å·®å¼‚è¦ç‚¹ |
|------|----------|----------|----------|
| **æ— åŸŸåç‰ˆ** | å±€åŸŸç½‘/æœ¬åœ°æµ‹è¯•ã€æ— éœ€è¯ä¹¦ | `http://` / `ws://` | å‰åç«¯é…ç½®å†™æ­»ä¸º `localhost`ï¼Œé¿å…é¢å¤–é…ç½®ï¼›å¤åˆ¶åå³å¯åœ¨ä»»æ„ç”µè„‘ä¸Šè°ƒè¯• |
| **æœ‰åŸŸåç‰ˆ** | å…¬ç½‘è®¿é—®ã€åŸŸå + è¯ä¹¦ | `https://` / `wss://` | `frontend/index.html`ã€`join.html` ä¼šåœ¨éå±€åŸŸç½‘åŸŸåä¸‹è‡ªåŠ¨åˆ‡æ¢åˆ°è‡ªå®šä¹‰ API åŸŸåï¼Œä¾¿äºç»“åˆ Nginx/CDN |

> ğŸ’¡ ä¸¤ä¸ªå­é¡¹ç›®çš„ READMEï¼ˆ`æ— åŸŸåç‰ˆ/README.md`ã€`æœ‰åŸŸåç‰ˆ/README.md`ï¼‰æä¾›äº†å®Œæ•´çš„ APIã€éƒ¨ç½²ä¸æ•…éšœæ’æŸ¥è¯´æ˜ã€‚æœ¬æ–‡æ¡£ä¾§é‡äºæ€»ä½“å¯¼èˆªå’Œç‰ˆæœ¬é€‰æ‹©ã€‚

## ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Node.js 18+
- npm æˆ– pnpm
- Docker / Docker Composeï¼ˆå¯é€‰ï¼Œç”¨äºä¸€é”®æ‹‰èµ· LiveKit æˆ–å®Œæ•´æ ˆï¼‰

## å¿«é€Ÿå¼€å§‹

1. **é€‰æ‹©ç‰ˆæœ¬**
   ```bash
   # ä¾‹ï¼šä½¿ç”¨æ— åŸŸåç‰ˆ
   cd æ— åŸŸåç‰ˆ
   ```

2. **å‡†å¤‡ LiveKitï¼ˆå¯é€‰ï¼‰**
   - éœ€è¦å®æ—¶éŸ³è§†é¢‘æ—¶ï¼Œè¿è¡Œï¼š
     ```bash
     docker run --rm -it --name livekit \
       -p 7880:7880 -p 7881:7881/udp \
       -e LIVEKIT_KEYS="devkey:supersecret" \
       livekit/livekit-server --dev --bind 0.0.0.0
     ```
   - åœ¨ `backend/.env` ä¸­å†™å…¥ `LIVEKIT_SERVER_URL`ã€`LIVEKIT_API_KEY`ã€`LIVEKIT_API_SECRET`ã€‚

3. **å¯åŠ¨åç«¯**
   ```bash
   cd backend
   python3 -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   cp .env.example .env  # å¡«å…¥ LiveKit / CORS é…ç½®
   python app.py         # http://localhost:8000
   ```

4. **å¯åŠ¨å‰ç«¯**
   ```bash
   cd frontend
   npm install
   cp .env.example .env  # å¦‚éœ€è¦†ç›– ws/http åŸºåœ°å€
   npm run dev           # http://localhost:5500
   ```

5. **ï¼ˆå¯é€‰ï¼‰Docker Compose ä¸€é”®å¯åŠ¨**
   ```bash
   # ä»ä»¥æ‰€é€‰ç‰ˆæœ¬ç›®å½•ä¸ºå·¥ä½œè·¯å¾„
   cp backend/.env.example backend/.env
   # ä¿®æ”¹ LiveKit/API å‡­è¯
   docker-compose up -d
   docker-compose logs -f
   ```

## è‡ªå®šä¹‰åŸŸåæç¤ºï¼ˆä»…ã€Œæœ‰åŸŸåç‰ˆã€ï¼‰

1. ä¿®æ”¹ `frontend/index.html` ä¸ `frontend/join.html` ä¸­è„šæœ¬çš„å ä½åŸŸåï¼ˆ`api.yourdomain`ï¼‰ã€‚
2. ç¡®ä¿åå‘ä»£ç†æˆ– CDN æä¾› HTTPSï¼Œå¹¶å°†æµé‡è½¬å‘è‡³åç«¯ `8000` ç«¯å£ã€‚
3. å°†å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆ`npm run build`ï¼‰æ‰˜ç®¡åœ¨é™æ€ç«™ç‚¹æˆ–åŒä¸€åå‘ä»£ç†ä¸­ï¼Œç¡®ä¿æµè§ˆå™¨é€šè¿‡ `https://` è®¿é—®ï¼Œä»è€Œå…è®¸éŸ³è§†é¢‘è®¾å¤‡ã€‚

## æ–‡æ¡£ä¸æ”¯æŒ

- æ¶æ„ä¸å¼€å‘ç»†èŠ‚ï¼š`<ç‰ˆæœ¬ç›®å½•>/docs/ARCHITECTURE.md`ã€`<ç‰ˆæœ¬ç›®å½•>/docs/DEVELOPMENT.md`
- æ·±å…¥ APIã€éƒ¨ç½²ä¸æ’éšœï¼š`<ç‰ˆæœ¬ç›®å½•>/README.md`
- å¸¸è§å‘½ä»¤ï¼š`backend/Makefile`ï¼ˆæ ¼å¼åŒ–ã€lintã€æµ‹è¯•ï¼‰ã€`frontend/package.json`ï¼ˆæ ¼å¼åŒ–ã€æ„å»ºã€lintï¼‰

å¦‚éœ€æ‰©å±•åŠŸèƒ½ï¼ˆè®¤è¯ã€æŒä¹…åŒ–ã€ç›‘æ§ç­‰ï¼‰ï¼Œå¯åœ¨ä»»ä¸€ç‰ˆæœ¬çš„ `docs` ä¸­è®°å½•ä¿®æ”¹ï¼Œå¹¶ä¿æŒä¸¤å¥—æ–¹æ¡ˆåŒæ­¥æ›´æ–°ã€‚
